// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// 1. 데이터베이스 설정 (MySQL)
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL") // .env 파일의 DATABASE_URL을 사용
}

// 2. Prisma Client 생성기 (Node.js용)
generator client {
  provider = "prisma-client-js"
}

// 3. 데이터 모델 (DB 테이블 설계도)
// (아까 대화에서 User, EmailVerificationCode 테이블이 언급되어 추가했습니다.)

model User {
  id                String    @id @default(cuid())
  name              String?
  email             String?   @unique
  emailVerifiedAt   DateTime?
  passwordHash      String?   // 소셜 로그인은 비번이 없을 수 있음
  googleId          String?   @unique // 구글 ID 저장용

  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt
}

model EmailVerificationCode {
  id        String   @id @default(cuid())
  email     String
  code      String   @unique
  expiresAt DateTime

  @@unique([email, code])
}